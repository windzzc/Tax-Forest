<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" >
  <title>New Yotta</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <!-- Bootstrap 3.3.6 -->
  <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link href="http://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <!-- Ionicons -->
  <link href="http://cdn.bootcss.com/ionicons/2.0.0/css/ionicons.min.css" rel="stylesheet">
  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/AdminLTE.css">
  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="dist/css/skins/_all-skins.css">


  <link rel="stylesheet" href="././plugins/layui/css/layui.css">

<!-- <script type="text/javascript">ip = ffsfdsf；</script> -->

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->



</head>
<body class="hold-transition skin-blue sidebar-mini ">
<div class="wrapper">

  <header class="main-header">
    <!-- Logo -->
    <a href="http://yotta.xjtushilei.com:888/homepage/" class="logo">
      <!-- mini logo for sidebar mini 50x50 pixels -->
      <span class="logo-mini" style="font-size: 12px">知识森林</span>
      <!-- logo for regular state and mobile devices -->
      <span class="logo-lg">知识森林构建</span>
    </a>
    <!-- Header Navbar: style can be found in header.less -->
    <nav class="navbar navbar-static-top">
      <!-- Sidebar toggle button-->
      <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
        <span class="sr-only">Toggle navigation</span>
      </a>

      <br>
        <div class="col-md-1">
        </div>
          
        <div class="col-md-8">
            <div class="btn-group btn-group-lg" role="group" aria-label="...">

 <a href="../construct/pages/facet/index.html">
<button class="btn  btn-primary"> 知识主题抽取及分面树构建</button> 
<button class="btn  btn-primary"><em class="glyphicon glyphicon-arrow-right"></em></button> 
</a>
 <a href="../construct/pages/add/index.html">
<button class="btn  btn-primary"> 碎片化知识采集及转配</button> 
<button class="btn  btn-primary"><em class="glyphicon glyphicon-arrow-right"></em></button> 
</a>
<a href="../construct/pages/relationship/index.html">
<button class="btn  btn-primary "> 知识关系挖掘</button> 
<button class="btn  btn-primary "><em class="glyphicon glyphicon-arrow-right"></em></button> 
</a>
 <a href="../construct/pages/kg/index.html">
<button class="btn  btn-primary btn6"> 知识森林</button> 
</a>

          </div>
      </div>        
        
      <br>


      <div class="collapse navbar-collapse pull-right" id="navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="../../index.html" ><i class="fa fa-home" style="font-size: 19px"></i><strong> New Yotta</strong></a></li>
        </ul>
      </div>
    </nav>
  </header>
  <!-- Left side column. contains the logo and sidebar -->
  <aside class="main-sidebar">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
      <!-- Sidebar user panel -->

      <!-- /.search form -->
      <!-- sidebar menu: : style can be found in sidebar.less -->
           <ul class="sidebar-menu">
        <li class="header">主要功能</li>
        <li class="active">
           <a href="javascript:resetCookie()"><i class="fa fa-location-arrow"></i> <span>导航</span>
         
           </a>
 <div class="hei"> <i class="glyphicon glyphicon-arrow-down"></i></div>
        </li>

        <li>
          <a href="pages/facet/index.html">
            <i class="fa fa-asterisk"></i> <span>主题抽取和分面树构建</span>            
          </a>
          <div class="hei"> <i class="glyphicon glyphicon-arrow-down"></i></div>
        </li>  

        <li>
          <a href="pages/add/index.html">
            <i class="fa fa-hourglass-half"></i> <span>碎片化知识采集及装配</span>
          </a>
          <div class="hei"> <i class="glyphicon glyphicon-arrow-down"></i></div>
        </li>
  
         <li>
          <a href="pages/relationship/index.html">
            <i class="fa fa-object-ungroup"></i> <span>知识关联挖掘</span>
          </a>
           <div class="hei"> <i class="glyphicon glyphicon-arrow-down"></i></div>
        </li>

        <li>
          <a href="pages/kg/index.html">
            <i class="fa  fa-tree"></i> <span>知识森林</span>
          </a>

        </li>
      </ul>
      
    </section>
    <!-- /.sidebar -->
  </aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper" ng-app="myApp"  ng-controller="menu">
    <!-- Content Header (Page header) -->

    <div class="row">
<hr>

<div class="col-md-12">
<center>

<div class="input-group">
<!--   <span class="input-group-btn">
      <select class="btn  btn-success btn-lg subject1" ng-model="subject" ng-options="subject.subjectName for subject in subjects">
      <option value="">-- 请选择学科 --</option> 
      </select>
  </span>
  <input type="text" class="form-control btn-lg" placeholder="请输入需要创建的课程" name="" id="subjectt" style="height: 45px;" > -->
  <span class="input-group-btn">
       <button class="btn btn-success btn-lg site-demo-active" data-type="loading" type="button" onclick="checked_data()">开始自动构建课程</button>
  </span>
</div>

</div>
</center>




<!-- 
      <div class="col-sm-12 col-md-12">
      <br>      
      <div class="input-group">
      <span class="input-group-btn">
        <button class="layui-btn site-demo-active" data-type="loading"  onclick="build_data()" >点击开始自动构建课程</button>
      </span>
    </div>
    </div> -->

</div>

    <hr>

<div class="layui-progress layui-progress-big" lay-showpercent="true" lay-filter="demo">
  <div class="layui-progress-bar layui-bg-red" lay-percent="0%"></div>
</div>
<center>

<div id="msg" style="color:#ce4844;transition: all ease 5;font-size: 16px;margin-top: 5px;" ></div>

</center>
 

    <hr>



    <!-- Main content -->
    <section class="content">
        
 
<!--         <div class="row" style="margin-top: 2%">
          <div class="col-sm-12">
                 <div class=" box box-info ">
                    <div class="box-header" style="cursor: move;" >
                    <b ></b>
                    </div>
                    <div class="box-body " id="text" style="font-size: 1.1em;">


                    </div>
                </div>
          </div>
          
        </div> -->
    </section>
    <!-- /.content -->
  </div>
<!-- 
<div class="row">


  <div class="progress progress-striped active dis page">
      <div class="progress-bar" style=""  id="progress-bar">80%</div>
  </div>

</div> -->



  <!-- /.content-wrapper -->
  <footer class="main-footer">
    <div class="pull-right hidden-xs">
      <b>Version</b> 1.0.1
    </div>
    <!-- <strong>Copyright &copy; 2016 <a href="http://labs.xjtudlc.com/labs/index.html">大数据算法与分析技术国家工程实验室</a>.</strong> All rights -->
    <strong>Copyright &copy; 2019 智能网络与网络安全教育部重点实验室.</strong> All rights
    reserved.
  </footer>


  <!-- /.control-sidebar -->
  <!-- Add the sidebar's background. This div must be placed
       immediately after the control sidebar -->
  <div class="control-sidebar-bg"></div>
</div>
<!-- ./wrapper -->

<!-- jQuery 2.2.3 -->
<script src="plugins/jQuery/jquery-2.2.3.min.js"></script>

<!-- Bootstrap 3.3.6 -->
<script src="bootstrap/js/bootstrap.min.js"></script>

<!-- AdminLTE App -->
<script src="dist/js/app.min.js"></script>


<!-- 个人的插件 -->
<script type="text/javascript" src="../../config/ipconfig.js"></script>

<script src="plugins/angularjs/angular.js"></script>
<script src="plugins/angularjs/angular-animate.js"></script>
<script src="plugins/angularjs/angular-sanitize.js"></script>
<script src="././plugins/layui/layui.all.js"></script>
<script src="dist/js/daohang.js"></script>


<!-- <div class="page dis">
<div class="circle-loader">
  <div class="circle-line">
    <div class="circle circle-blue"></div>
    <div class="circle circle-blue"></div>
    <div class="circle circle-blue"></div>
  </div>
  <div class="circle-line">
    <div class="circle circle-yellow"></div>
    <div class="circle circle-yellow"></div>
    <div class="circle circle-yellow"></div>
  </div>
  <div class="circle-line">
    <div class="circle circle-red"></div>
    <div class="circle circle-red"></div>
    <div class="circle circle-red"></div>
  </div>
  <div class="circle-line">
    <div class="circle circle-green"></div>
    <div class="circle circle-green"></div>
    <div class="circle circle-green"></div>
  </div>

</div>
<center style="margin-bottom: 10px;">100%</center>
<div class="progress progress-striped active dis">
      <div class="progress-bar" style="80%"  id="progress-bar">80%</div>
  </div>

</div>
 -->





<script>
layui.use('element', function(){
  var $ = layui.jquery
  ,element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块
  
  //触发事件
  var active = {
    setPercent: function(){
      //设置50%进度
      element.progress('demo', '50%')
    }
    ,loading: function(othis){
      var DISABLED = 'layui-btn-disabled';
      if(othis.hasClass(DISABLED)) return;
    
      //模拟loading
      var n = 0, timer = setInterval(function(){
        n = n + Math.random()*10|0;  
        if(n>100){
          n = 100;
          clearInterval(timer);
          othis.removeClass(DISABLED);
        }
        element.progress('demo', n+'%');
      }, 300+Math.random()*1000000);
      
      othis.addClass(DISABLED);
    }
  };
  
  $('.site-demo-active').on('click', function(){
    var othis = $(this), type = $(this).data('type');
    active[type] ? active[type].call(this, othis) : '';
  });

});






function checked_data(){

var AutoSubject=getCookie("NowClass");
var AutoSubject1=getCookie("NowSubject");


/*********开始爬取主题****************************/
function isChinese(temp)
     {
       var re=/[A-Za-z]+/;
       if (re.test(temp)) return false ;
      return true ;
     }

var begin;
var msg
var url=ip+"/spiderTopicFacet/spiderTopicFacetByDomainName";
/******判断课程是否为中英文**********/
// if(isChinese(AutoSubject)){
//   var  cc=true;
// }
// else{
//     cc=false;
// }

var cc=getCookie("isChinese");
console.log(cc);
begin=setInterval(function(){
        $.ajax({
                type: "POST",
                url: url,
                data: $.param( {
                subjectName:AutoSubject1,             
                domainName:AutoSubject,
                isChineseOrNot:cc,
                }),                
                success: function(response){
                  console.log(response);
                    console.log(response['code']);

                  if(response['code']==200){

                      layui.use('element', function(){
                        var $ = layui.jquery
                        ,element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块
                       element.progress('demo', 100+'%'); 
                      });

                   $("#msg").html(response['data']);
                     layer.alert(response['data']);
                      clearInterval(begin);
                }
               setTimeout(function(){window.location.href='/module/construct1/pages/add';},1500);
                },
               error:function(XMLHttpRequest, textStatus, errorThrown){
                 console.log(XMLHttpRequest['responseJSON']['code']);
                 console.log(XMLHttpRequest['responseJSON']);

                if(XMLHttpRequest['responseJSON']['code']==197){

                    $("#msg").html(XMLHttpRequest['responseJSON']['msg']);
                    console.log(XMLHttpRequest['responseJSON']['msg']);                  
                }     
                else if(XMLHttpRequest['responseJSON']['code']==198){                
                    $("#msg").html(XMLHttpRequest['responseJSON']['msg']+XMLHttpRequest['responseJSON']['data']);
                     console.log(XMLHttpRequest['responseJSON']['msg']);
                    
                }          
                else if(XMLHttpRequest['responseJSON']['code']==199){
                  layui.use('element', function(){
                        var $ = layui.jquery
                        ,element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块
                       element.progress('demo', 40+'%'); 
                      });
                      $("#msg").html(XMLHttpRequest['responseJSON']['msg']);
                     console.log(XMLHttpRequest['responseJSON']['msg']);
                    
                }              

                }
            });

},5000);








}


</script>

<script>




function build_data(){
var begin;
var url=ip+"/spiderTopicFacet/spiderTopicFacetByDomainName";
var aa=getCookie("NowClass");
console.log(url);
console.log(aa);

begin=setInterval(function(){
        $.ajax({
                type: "POST",
                url: url,
                data: $.param( {                 
                domainName:aa,
                }),                
                success: function(response){
                  console.log(response);
                    console.log(response['code']);

                  if(response['code']==200){

                      layui.use('element', function(){
                        var $ = layui.jquery
                        ,element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块
                       element.progress('demo', 100+'%'); 
                      });

                     layer.alert(response['data']);
                      clearInterval(begin);
                }
               setTimeout(function(){window.location.href='/11/module/construct1/pages/extraction';},1500);
                },
               error:function(XMLHttpRequest, textStatus, errorThrown){
                 console.log(XMLHttpRequest['responseJSON']['code']);
                 console.log(XMLHttpRequest['responseJSON']);

                if(XMLHttpRequest['responseJSON']['code']==197){

                    layer.alert(XMLHttpRequest['responseJSON']['msg']);                  
                }
                //  else if(XMLHttpRequest['responseJSON']['code']==197){
                //      layer.alert(XMLHttpRequest['responseJSON']['msg']);
                    
                // }       
                else if(XMLHttpRequest['responseJSON']['code']==198){                

                     layer.alert(XMLHttpRequest['responseJSON']['msg']);
                    
                }          
                else if(XMLHttpRequest['responseJSON']['code']==199){
                  layui.use('element', function(){
                        var $ = layui.jquery
                        ,element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块
                       element.progress('demo', 40+'%'); 
                      });

                     layer.alert(XMLHttpRequest['responseJSON']['msg']);
                    
                }              

                }
            });

},5000);

}





</script>







</body>
</html>
